---
description: Essential checklist for all agent work. Always visible.
globs:
alwaysApply: true
---

# Agent Checklist

See docs/README.md for more basic workflow context.

**Before responding to user, verify:**

## Git

- [ ] On feature branch (not main)
- [ ] Atomic commits with conventional prefixes (feat/fix/refactor/docs/chore)

## Before Merging to Main ⚠️

**Do these BEFORE your merge commit:**

- [ ] **Update docs/TODO.md** — mark `[x]` for every completed item
- [ ] SOURCE.md updated if architectural change
- [ ] Commit the docs update (can be part of final feature commit or separate `docs:` commit)

**Then:**

- [ ] Branch merged to main
- [ ] Feature branch deleted

## Tutorial ⚠️

- [ ] **If user-facing change: Added/updated tutorial step** (in `createInitialWorld()`)
- [ ] New steps marked `isNew: true`
- [ ] Added `completeTutorialStep()` calls in `update.ts` handlers

## Tests

- [ ] For new actions/logic: Consider adding regression tests
- [ ] Run tests before finishing (`npm test`)

## Quality

- [ ] Tested in browser (use browser tools)
- [ ] No lint errors (run `read_lints`)

---

**User will typically start sessions with Plan Mode** (`Shift+Tab`) for complex tasks.
Use built-in `todo_write` tool to track subtasks during work.
